{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hongjie\\\\Desktop\\\\Warehouse Test\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useState } from \"react\";\nimport * as XLSX from \"xlsx\";\nimport { parsePDFEternal, parsePDFWorldFamous } from \"./parsers\";\nimport StockTable from \"./components/StockTable\";\nimport ImportPreview from \"./components/ImportPreview\";\nimport HistoryTable from \"./components/HistoryTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [currentBrand, setCurrentBrand] = useState(\"World Famous\");\n  const [worldFamousStock, setWorldFamousStock] = useState([]);\n  const [eternalStock, setEternalStock] = useState([]);\n  const [importData, setImportData] = useState([]);\n  const [file, setFile] = useState(null);\n\n  // For searching & filtering\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedSize, setSelectedSize] = useState(\"\");\n  const [showInStockOnly, setShowInStockOnly] = useState(false);\n\n  // Edit mode\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  // History\n  const [history, setHistory] = useState([]);\n  const [currentView, setCurrentView] = useState(\"Stock\");\n\n  // 1. HISTORY HELPERS\n  const updateHistory = (actionType, details) => {\n    setHistory(prev => [...prev, {\n      date: new Date().toLocaleString(),\n      actionType,\n      brand: currentBrand,\n      details,\n      selected: false\n    }]);\n  };\n  const toggleHistorySelection = i => {\n    setHistory(prev => prev.map((entry, idx) => idx === i ? {\n      ...entry,\n      selected: !entry.selected\n    } : entry));\n  };\n  const exportSelectedHistoryToTextFile = () => {\n    const selected = history.filter(h => h.selected);\n    if (selected.length === 0) {\n      alert(\"No history selected.\");\n      return;\n    }\n    selected.forEach(entry => {\n      const text = `${entry.date} - ${entry.actionType}: ${JSON.stringify(entry.details)}`;\n      const blob = new Blob([text], {\n        type: \"text/plain\"\n      });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = `${entry.actionType}_history.txt`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    });\n  };\n\n  // 2. FILE IMPORT\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleImport = async () => {\n    if (!file) return;\n    const ext = file.name.split(\".\").pop().toLowerCase();\n    const reader = new FileReader();\n    reader.onload = async e => {\n      const data = e.target.result; // ArrayBuffer\n\n      if (ext === \"pdf\") {\n        try {\n          let parsed;\n          if (currentBrand === \"Eternal\") {\n            parsed = await parsePDFEternal(data);\n            updateHistory(\"Import PDF (Eternal)\", {\n              filename: file.name,\n              totalItems: parsed.length\n            });\n          } else {\n            // default: \"World Famous\"\n            parsed = await parsePDFWorldFamous(data);\n            updateHistory(\"Import PDF (World Famous)\", {\n              filename: file.name,\n              totalItems: parsed.length\n            });\n          }\n          setImportData(parsed);\n        } catch (err) {\n          console.error(\"Error parsing PDF:\", err);\n          alert(\"Failed to parse PDF. See console for details.\");\n        }\n      } else {\n        // Parse Excel\n        const workbook = XLSX.read(data, {\n          type: \"array\"\n        });\n        const sheet = workbook.Sheets[workbook.SheetNames[0]];\n        const jsonData = XLSX.utils.sheet_to_json(sheet, {\n          header: 1\n        });\n\n        // Example parse skipping 2 rows of headers\n        const processed = jsonData.slice(2).map(row => ({\n          color: row[1] || \"\",\n          quantity: row[2] ? row[2] : 0,\n          size: \"\"\n        }));\n        setImportData(processed);\n        const totalQty = processed.reduce((acc, item) => acc + item.quantity, 0);\n        updateHistory(\"Import Excel\", {\n          filename: file.name,\n          totalQuantityAdded: totalQty\n        });\n      }\n    };\n    reader.readAsArrayBuffer(file);\n  };\n  const confirmImport = () => {\n    if (importData.length === 0) return;\n    const updateStock = stock => {\n      const updated = [...stock];\n      importData.forEach(imp => {\n        const foundIdx = updated.findIndex(s => s.color === imp.color && s.size === imp.size);\n        if (foundIdx >= 0) {\n          updated[foundIdx].quantity += imp.quantity;\n        } else {\n          updated.push(imp);\n        }\n      });\n      return updated;\n    };\n    if (currentBrand === \"World Famous\") {\n      setWorldFamousStock(prev => updateStock(prev));\n    } else {\n      setEternalStock(prev => updateStock(prev));\n    }\n    setImportData([]);\n  };\n\n  // 3. EXPORT (OPTIONAL)\n  const handleExport = () => {\n    // Example: deduct from stock based on importData\n    if (importData.length === 0) {\n      alert(\"No items to export (importData is empty).\");\n      return;\n    }\n    let updated = currentBrand === \"World Famous\" ? [...worldFamousStock] : [...eternalStock];\n    let allGood = true;\n    importData.forEach(expItem => {\n      const idx = updated.findIndex(s => s.color === expItem.color && s.size === expItem.size);\n      if (idx >= 0) {\n        if (updated[idx].quantity >= expItem.quantity) {\n          updated[idx].quantity -= expItem.quantity;\n        } else {\n          allGood = false;\n          alert(`Not enough stock for ${expItem.color} (${expItem.size}). Need ${expItem.quantity}, have ${updated[idx].quantity}`);\n        }\n      } else {\n        allGood = false;\n        alert(`Cannot export unknown item: ${expItem.color} (${expItem.size})`);\n      }\n    });\n    if (allGood) {\n      if (currentBrand === \"World Famous\") {\n        setWorldFamousStock(updated);\n      } else {\n        setEternalStock(updated);\n      }\n      alert(\"Export complete!\");\n      updateHistory(\"Export\", importData);\n    }\n  };\n\n  // 4. STOCK FILTERS\n  const getCurrentStock = () => {\n    const stock = currentBrand === \"World Famous\" ? worldFamousStock : eternalStock;\n    return stock.filter(item => {\n      const colorMatch = item.color.toLowerCase().includes(searchQuery.toLowerCase());\n      const sizeMatch = selectedSize ? item.size === selectedSize : true;\n      const inStockMatch = !showInStockOnly || item.quantity > 0;\n      return colorMatch && sizeMatch && inStockMatch;\n    });\n  };\n  const totalBottles = getCurrentStock().reduce((acc, i) => acc + i.quantity, 0);\n\n  // 5. EDIT MODE\n  const enterEditMode = () => setIsEditMode(true);\n  const finalizeEditing = () => setIsEditMode(false);\n  const handleStockChange = (index, field, value) => {\n    const isWF = currentBrand === \"World Famous\";\n    const stock = isWF ? [...worldFamousStock] : [...eternalStock];\n    stock[index][field] = value;\n    if (isWF) {\n      setWorldFamousStock(stock);\n    } else {\n      setEternalStock(stock);\n    }\n  };\n  const addNewItem = () => {\n    const newItem = {\n      color: \"\",\n      quantity: 0,\n      size: \"\"\n    };\n    if (currentBrand === \"World Famous\") {\n      setWorldFamousStock(prev => [...prev, newItem]);\n    } else {\n      setEternalStock(prev => [...prev, newItem]);\n    }\n    updateHistory(\"Add New Item\", newItem);\n  };\n  const deleteItem = index => {\n    const confirmDelete = window.confirm(\"Delete this item?\");\n    if (!confirmDelete) return;\n    const isWF = currentBrand === \"World Famous\";\n    const stock = isWF ? [...worldFamousStock] : [...eternalStock];\n    const removed = stock[index];\n    stock.splice(index, 1);\n    if (isWF) setWorldFamousStock(stock);else setEternalStock(stock);\n    updateHistory(\"Delete Item\", removed);\n  };\n\n  // 6. RENDER\n  if (currentView === \"History\") {\n    // Show the History table\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Warehouse Inventory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentView(\"Stock\"),\n        children: \"Back to Stock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HistoryTable, {\n        history: history,\n        onToggleSelect: toggleHistorySelection\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportSelectedHistoryToTextFile,\n        children: \"Export Selected History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Otherwise, show the main Stock view\n  const stockToDisplay = getCurrentStock();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Warehouse Inventory\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentBrand(\"World Famous\"),\n        children: \"World Famous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentBrand(\"Eternal\"),\n        children: \"Eternal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [isEditMode ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: finalizeEditing,\n          children: \"Finish Editing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: enterEditMode,\n          children: \"Edit Stock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView(\"History\"),\n          children: \"History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".xlsx,.xls,.pdf\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleImport,\n          children: \"Preview File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: confirmImport,\n          children: \"Confirm Import\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExport,\n          children: \"Confirm Export\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value),\n          placeholder: \"Search color...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedSize,\n          onChange: e => setSelectedSize(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Sizes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1/2 ounce\",\n            children: \"1/2 ounce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1 ounce\",\n            children: \"1 ounce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"2 ounce\",\n            children: \"2 ounce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"4 ounce\",\n            children: \"4 ounce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1oz\",\n            children: \"1oz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"3oz\",\n            children: \"3oz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"6oz\",\n            children: \"6oz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"12oz\",\n            children: \"12oz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginLeft: \"1rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: showInStockOnly,\n            onChange: e => setShowInStockOnly(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), \"In Stock Only\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"0.5rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"Total Bottles: \", totalBottles]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: \"1rem\"\n        },\n        children: [\"Current Stock (\", currentBrand, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StockTable, {\n        stockItems: stockToDisplay,\n        isEditMode: isEditMode,\n        onChangeItem: handleStockChange,\n        onDeleteItem: deleteItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), isEditMode && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addNewItem,\n        style: {\n          marginTop: \"1rem\"\n        },\n        children: \"Add New Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ImportPreview, {\n        importData: importData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"dlsFSEy1z/h+3jOl1UbsH09ufLA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","XLSX","parsePDFEternal","parsePDFWorldFamous","StockTable","ImportPreview","HistoryTable","jsxDEV","_jsxDEV","App","_s","currentBrand","setCurrentBrand","worldFamousStock","setWorldFamousStock","eternalStock","setEternalStock","importData","setImportData","file","setFile","searchQuery","setSearchQuery","selectedSize","setSelectedSize","showInStockOnly","setShowInStockOnly","isEditMode","setIsEditMode","history","setHistory","currentView","setCurrentView","updateHistory","actionType","details","prev","date","Date","toLocaleString","brand","selected","toggleHistorySelection","i","map","entry","idx","exportSelectedHistoryToTextFile","filter","h","length","alert","forEach","text","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleFileChange","e","target","files","handleImport","ext","name","split","pop","toLowerCase","reader","FileReader","onload","data","result","parsed","filename","totalItems","err","console","error","workbook","read","sheet","Sheets","SheetNames","jsonData","utils","sheet_to_json","header","processed","slice","row","color","quantity","size","totalQty","reduce","acc","item","totalQuantityAdded","readAsArrayBuffer","confirmImport","updateStock","stock","updated","imp","foundIdx","findIndex","s","push","handleExport","allGood","expItem","getCurrentStock","colorMatch","includes","sizeMatch","inStockMatch","totalBottles","enterEditMode","finalizeEditing","handleStockChange","index","field","value","isWF","addNewItem","newItem","deleteItem","confirmDelete","window","confirm","removed","splice","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onToggleSelect","stockToDisplay","accept","onChange","style","marginTop","placeholder","marginLeft","checked","stockItems","onChangeItem","onDeleteItem","_c","$RefreshReg$"],"sources":["C:/Users/hongjie/Desktop/Warehouse Test/src/App.js"],"sourcesContent":["// src/App.js\r\nimport React, { useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nimport { parsePDFEternal, parsePDFWorldFamous } from \"./parsers\";\r\nimport StockTable from \"./components/StockTable\";\r\nimport ImportPreview from \"./components/ImportPreview\";\r\nimport HistoryTable from \"./components/HistoryTable\";\r\n\r\nfunction App() {\r\n  const [currentBrand, setCurrentBrand] = useState(\"World Famous\");\r\n  const [worldFamousStock, setWorldFamousStock] = useState([]);\r\n  const [eternalStock, setEternalStock] = useState([]);\r\n\r\n  const [importData, setImportData] = useState([]);\r\n  const [file, setFile] = useState(null);\r\n\r\n  // For searching & filtering\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [selectedSize, setSelectedSize] = useState(\"\");\r\n  const [showInStockOnly, setShowInStockOnly] = useState(false);\r\n\r\n  // Edit mode\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n\r\n  // History\r\n  const [history, setHistory] = useState([]);\r\n  const [currentView, setCurrentView] = useState(\"Stock\");\r\n\r\n  // 1. HISTORY HELPERS\r\n  const updateHistory = (actionType, details) => {\r\n    setHistory((prev) => [\r\n      ...prev,\r\n      {\r\n        date: new Date().toLocaleString(),\r\n        actionType,\r\n        brand: currentBrand,\r\n        details,\r\n        selected: false\r\n      }\r\n    ]);\r\n  };\r\n\r\n  const toggleHistorySelection = (i) => {\r\n    setHistory((prev) =>\r\n      prev.map((entry, idx) =>\r\n        idx === i ? { ...entry, selected: !entry.selected } : entry\r\n      )\r\n    );\r\n  };\r\n\r\n  const exportSelectedHistoryToTextFile = () => {\r\n    const selected = history.filter((h) => h.selected);\r\n    if (selected.length === 0) {\r\n      alert(\"No history selected.\");\r\n      return;\r\n    }\r\n    selected.forEach((entry) => {\r\n      const text = `${entry.date} - ${entry.actionType}: ${JSON.stringify(\r\n        entry.details\r\n      )}`;\r\n      const blob = new Blob([text], { type: \"text/plain\" });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.download = `${entry.actionType}_history.txt`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n    });\r\n  };\r\n\r\n  // 2. FILE IMPORT\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleImport = async () => {\r\n    if (!file) return;\r\n    const ext = file.name.split(\".\").pop().toLowerCase();\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = async (e) => {\r\n      const data = e.target.result; // ArrayBuffer\r\n\r\n      if (ext === \"pdf\") {\r\n        try {\r\n          let parsed;\r\n          if (currentBrand === \"Eternal\") {\r\n            parsed = await parsePDFEternal(data);\r\n            updateHistory(\"Import PDF (Eternal)\", {\r\n              filename: file.name,\r\n              totalItems: parsed.length\r\n            });\r\n          } else {\r\n            // default: \"World Famous\"\r\n            parsed = await parsePDFWorldFamous(data);\r\n            updateHistory(\"Import PDF (World Famous)\", {\r\n              filename: file.name,\r\n              totalItems: parsed.length\r\n            });\r\n          }\r\n          setImportData(parsed);\r\n        } catch (err) {\r\n          console.error(\"Error parsing PDF:\", err);\r\n          alert(\"Failed to parse PDF. See console for details.\");\r\n        }\r\n      } else {\r\n        // Parse Excel\r\n        const workbook = XLSX.read(data, { type: \"array\" });\r\n        const sheet = workbook.Sheets[workbook.SheetNames[0]];\r\n        const jsonData = XLSX.utils.sheet_to_json(sheet, { header: 1 });\r\n\r\n        // Example parse skipping 2 rows of headers\r\n        const processed = jsonData.slice(2).map((row) => ({\r\n          color: row[1] || \"\",\r\n          quantity: row[2] ? row[2] : 0,\r\n          size: \"\"\r\n        }));\r\n        setImportData(processed);\r\n\r\n        const totalQty = processed.reduce((acc, item) => acc + item.quantity, 0);\r\n        updateHistory(\"Import Excel\", {\r\n          filename: file.name,\r\n          totalQuantityAdded: totalQty\r\n        });\r\n      }\r\n    };\r\n\r\n    reader.readAsArrayBuffer(file);\r\n  };\r\n\r\n  const confirmImport = () => {\r\n    if (importData.length === 0) return;\r\n\r\n    const updateStock = (stock) => {\r\n      const updated = [...stock];\r\n      importData.forEach((imp) => {\r\n        const foundIdx = updated.findIndex(\r\n          (s) => s.color === imp.color && s.size === imp.size\r\n        );\r\n        if (foundIdx >= 0) {\r\n          updated[foundIdx].quantity += imp.quantity;\r\n        } else {\r\n          updated.push(imp);\r\n        }\r\n      });\r\n      return updated;\r\n    };\r\n\r\n    if (currentBrand === \"World Famous\") {\r\n      setWorldFamousStock((prev) => updateStock(prev));\r\n    } else {\r\n      setEternalStock((prev) => updateStock(prev));\r\n    }\r\n    setImportData([]);\r\n  };\r\n\r\n  // 3. EXPORT (OPTIONAL)\r\n  const handleExport = () => {\r\n    // Example: deduct from stock based on importData\r\n    if (importData.length === 0) {\r\n      alert(\"No items to export (importData is empty).\");\r\n      return;\r\n    }\r\n    let updated =\r\n      currentBrand === \"World Famous\"\r\n        ? [...worldFamousStock]\r\n        : [...eternalStock];\r\n    let allGood = true;\r\n\r\n    importData.forEach((expItem) => {\r\n      const idx = updated.findIndex(\r\n        (s) => s.color === expItem.color && s.size === expItem.size\r\n      );\r\n      if (idx >= 0) {\r\n        if (updated[idx].quantity >= expItem.quantity) {\r\n          updated[idx].quantity -= expItem.quantity;\r\n        } else {\r\n          allGood = false;\r\n          alert(\r\n            `Not enough stock for ${expItem.color} (${expItem.size}). Need ${\r\n              expItem.quantity\r\n            }, have ${updated[idx].quantity}`\r\n          );\r\n        }\r\n      } else {\r\n        allGood = false;\r\n        alert(`Cannot export unknown item: ${expItem.color} (${expItem.size})`);\r\n      }\r\n    });\r\n\r\n    if (allGood) {\r\n      if (currentBrand === \"World Famous\") {\r\n        setWorldFamousStock(updated);\r\n      } else {\r\n        setEternalStock(updated);\r\n      }\r\n      alert(\"Export complete!\");\r\n      updateHistory(\"Export\", importData);\r\n    }\r\n  };\r\n\r\n  // 4. STOCK FILTERS\r\n  const getCurrentStock = () => {\r\n    const stock =\r\n      currentBrand === \"World Famous\" ? worldFamousStock : eternalStock;\r\n    return stock.filter((item) => {\r\n      const colorMatch = item.color\r\n        .toLowerCase()\r\n        .includes(searchQuery.toLowerCase());\r\n      const sizeMatch = selectedSize ? item.size === selectedSize : true;\r\n      const inStockMatch = !showInStockOnly || item.quantity > 0;\r\n      return colorMatch && sizeMatch && inStockMatch;\r\n    });\r\n  };\r\n\r\n  const totalBottles = getCurrentStock().reduce((acc, i) => acc + i.quantity, 0);\r\n\r\n  // 5. EDIT MODE\r\n  const enterEditMode = () => setIsEditMode(true);\r\n  const finalizeEditing = () => setIsEditMode(false);\r\n\r\n  const handleStockChange = (index, field, value) => {\r\n    const isWF = currentBrand === \"World Famous\";\r\n    const stock = isWF ? [...worldFamousStock] : [...eternalStock];\r\n    stock[index][field] = value;\r\n    if (isWF) {\r\n      setWorldFamousStock(stock);\r\n    } else {\r\n      setEternalStock(stock);\r\n    }\r\n  };\r\n\r\n  const addNewItem = () => {\r\n    const newItem = { color: \"\", quantity: 0, size: \"\" };\r\n    if (currentBrand === \"World Famous\") {\r\n      setWorldFamousStock((prev) => [...prev, newItem]);\r\n    } else {\r\n      setEternalStock((prev) => [...prev, newItem]);\r\n    }\r\n    updateHistory(\"Add New Item\", newItem);\r\n  };\r\n\r\n  const deleteItem = (index) => {\r\n    const confirmDelete = window.confirm(\"Delete this item?\");\r\n    if (!confirmDelete) return;\r\n    const isWF = currentBrand === \"World Famous\";\r\n    const stock = isWF ? [...worldFamousStock] : [...eternalStock];\r\n    const removed = stock[index];\r\n    stock.splice(index, 1);\r\n    if (isWF) setWorldFamousStock(stock);\r\n    else setEternalStock(stock);\r\n    updateHistory(\"Delete Item\", removed);\r\n  };\r\n\r\n  // 6. RENDER\r\n  if (currentView === \"History\") {\r\n    // Show the History table\r\n    return (\r\n      <div>\r\n        <div className=\"top-bar\">\r\n          <h1>Warehouse Inventory</h1>\r\n        </div>\r\n        <button onClick={() => setCurrentView(\"Stock\")}>Back to Stock</button>\r\n        <HistoryTable history={history} onToggleSelect={toggleHistorySelection} />\r\n        <button onClick={exportSelectedHistoryToTextFile}>\r\n          Export Selected History\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Otherwise, show the main Stock view\r\n  const stockToDisplay = getCurrentStock();\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"top-bar\">\r\n        <h1>Warehouse Inventory</h1>\r\n      </div>\r\n\r\n      {/* Sidebar (simple version) */}\r\n      <div className=\"sidebar\">\r\n        <button onClick={() => setCurrentBrand(\"World Famous\")}>\r\n          World Famous\r\n        </button>\r\n        <button onClick={() => setCurrentBrand(\"Eternal\")}>Eternal</button>\r\n      </div>\r\n\r\n      {/* Main content */}\r\n      <div className=\"main-content\">\r\n        {/* Action Buttons */}\r\n        <div>\r\n          {isEditMode ? (\r\n            <button onClick={finalizeEditing}>Finish Editing</button>\r\n          ) : (\r\n            <button onClick={enterEditMode}>Edit Stock</button>\r\n          )}\r\n          <button onClick={() => setCurrentView(\"History\")}>History</button>\r\n\r\n          <input type=\"file\" accept=\".xlsx,.xls,.pdf\" onChange={handleFileChange} />\r\n          <button onClick={handleImport}>Preview File</button>\r\n          <button onClick={confirmImport}>Confirm Import</button>\r\n          <button onClick={handleExport}>Confirm Export</button>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div style={{ marginTop: \"1rem\" }}>\r\n          <input\r\n            type=\"text\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            placeholder=\"Search color...\"\r\n          />\r\n          <select\r\n            value={selectedSize}\r\n            onChange={(e) => setSelectedSize(e.target.value)}\r\n          >\r\n            <option value=\"\">All Sizes</option>\r\n            <option value=\"1/2 ounce\">1/2 ounce</option>\r\n            <option value=\"1 ounce\">1 ounce</option>\r\n            <option value=\"2 ounce\">2 ounce</option>\r\n            <option value=\"4 ounce\">4 ounce</option>\r\n            <option value=\"1oz\">1oz</option>\r\n            <option value=\"3oz\">3oz</option>\r\n            <option value=\"6oz\">6oz</option>\r\n            <option value=\"12oz\">12oz</option>\r\n          </select>\r\n          <label style={{ marginLeft: \"1rem\" }}>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showInStockOnly}\r\n              onChange={(e) => setShowInStockOnly(e.target.checked)}\r\n            />\r\n            In Stock Only\r\n          </label>\r\n          <div style={{ marginTop: \"0.5rem\" }}>\r\n            <strong>Total Bottles: {totalBottles}</strong>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stock Table */}\r\n        <h3 style={{ marginTop: \"1rem\" }}>\r\n          Current Stock ({currentBrand})\r\n        </h3>\r\n        <StockTable\r\n          stockItems={stockToDisplay}\r\n          isEditMode={isEditMode}\r\n          onChangeItem={handleStockChange}\r\n          onDeleteItem={deleteItem}\r\n        />\r\n        {isEditMode && (\r\n          <button onClick={addNewItem} style={{ marginTop: \"1rem\" }}>\r\n            Add New Item\r\n          </button>\r\n        )}\r\n\r\n        {/* Import Preview */}\r\n        <ImportPreview importData={importData} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,KAAKC,IAAI,MAAM,MAAM;AAE5B,SAASC,eAAe,EAAEC,mBAAmB,QAAQ,WAAW;AAChE,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,YAAY,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,cAAc,CAAC;EAChE,MAAM,CAACa,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAM,CAACiB,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;;EAEtC;EACA,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACuB,YAAY,EAAEC,eAAe,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACyB,eAAe,EAAEC,kBAAkB,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;;EAE7D;EACA,MAAM,CAAC2B,UAAU,EAAEC,aAAa,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;;EAEnD;EACA,MAAM,CAAC6B,OAAO,EAAEC,UAAU,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC+B,WAAW,EAAEC,cAAc,CAAC,GAAGhC,QAAQ,CAAC,OAAO,CAAC;;EAEvD;EACA,MAAMiC,aAAa,GAAGA,CAACC,UAAU,EAAEC,OAAO,KAAK;IAC7CL,UAAU,CAAEM,IAAI,IAAK,CACnB,GAAGA,IAAI,EACP;MACEC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC,CAAC;MACjCL,UAAU;MACVM,KAAK,EAAE7B,YAAY;MACnBwB,OAAO;MACPM,QAAQ,EAAE;IACZ,CAAC,CACF,CAAC;EACJ,CAAC;EAED,MAAMC,sBAAsB,GAAIC,CAAC,IAAK;IACpCb,UAAU,CAAEM,IAAI,IACdA,IAAI,CAACQ,GAAG,CAAC,CAACC,KAAK,EAAEC,GAAG,KAClBA,GAAG,KAAKH,CAAC,GAAG;MAAE,GAAGE,KAAK;MAAEJ,QAAQ,EAAE,CAACI,KAAK,CAACJ;IAAS,CAAC,GAAGI,KACxD,CACF,CAAC;EACH,CAAC;EAED,MAAME,+BAA+B,GAAGA,CAAA,KAAM;IAC5C,MAAMN,QAAQ,GAAGZ,OAAO,CAACmB,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACR,QAAQ,CAAC;IAClD,IAAIA,QAAQ,CAACS,MAAM,KAAK,CAAC,EAAE;MACzBC,KAAK,CAAC,sBAAsB,CAAC;MAC7B;IACF;IACAV,QAAQ,CAACW,OAAO,CAAEP,KAAK,IAAK;MAC1B,MAAMQ,IAAI,GAAG,GAAGR,KAAK,CAACR,IAAI,MAAMQ,KAAK,CAACX,UAAU,KAAKoB,IAAI,CAACC,SAAS,CACjEV,KAAK,CAACV,OACR,CAAC,EAAE;MACH,MAAMqB,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACJ,IAAI,CAAC,EAAE;QAAEK,IAAI,EAAE;MAAa,CAAC,CAAC;MACrD,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC;MACrC,MAAMM,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAI,GAAGN,GAAG;MACfG,IAAI,CAACI,QAAQ,GAAG,GAAGrB,KAAK,CAACX,UAAU,cAAc;MACjD6B,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;MAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC;MACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC;MAC/BF,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMa,gBAAgB,GAAIC,CAAC,IAAK;IAC9BrD,OAAO,CAACqD,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC5B,CAAC;EAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACzD,IAAI,EAAE;IACX,MAAM0D,GAAG,GAAG1D,IAAI,CAAC2D,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAEpD,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,MAAM,GAAG,MAAOX,CAAC,IAAK;MAC3B,MAAMY,IAAI,GAAGZ,CAAC,CAACC,MAAM,CAACY,MAAM,CAAC,CAAC;;MAE9B,IAAIT,GAAG,KAAK,KAAK,EAAE;QACjB,IAAI;UACF,IAAIU,MAAM;UACV,IAAI5E,YAAY,KAAK,SAAS,EAAE;YAC9B4E,MAAM,GAAG,MAAMrF,eAAe,CAACmF,IAAI,CAAC;YACpCpD,aAAa,CAAC,sBAAsB,EAAE;cACpCuD,QAAQ,EAAErE,IAAI,CAAC2D,IAAI;cACnBW,UAAU,EAAEF,MAAM,CAACrC;YACrB,CAAC,CAAC;UACJ,CAAC,MAAM;YACL;YACAqC,MAAM,GAAG,MAAMpF,mBAAmB,CAACkF,IAAI,CAAC;YACxCpD,aAAa,CAAC,2BAA2B,EAAE;cACzCuD,QAAQ,EAAErE,IAAI,CAAC2D,IAAI;cACnBW,UAAU,EAAEF,MAAM,CAACrC;YACrB,CAAC,CAAC;UACJ;UACAhC,aAAa,CAACqE,MAAM,CAAC;QACvB,CAAC,CAAC,OAAOG,GAAG,EAAE;UACZC,OAAO,CAACC,KAAK,CAAC,oBAAoB,EAAEF,GAAG,CAAC;UACxCvC,KAAK,CAAC,+CAA+C,CAAC;QACxD;MACF,CAAC,MAAM;QACL;QACA,MAAM0C,QAAQ,GAAG5F,IAAI,CAAC6F,IAAI,CAACT,IAAI,EAAE;UAAE3B,IAAI,EAAE;QAAQ,CAAC,CAAC;QACnD,MAAMqC,KAAK,GAAGF,QAAQ,CAACG,MAAM,CAACH,QAAQ,CAACI,UAAU,CAAC,CAAC,CAAC,CAAC;QACrD,MAAMC,QAAQ,GAAGjG,IAAI,CAACkG,KAAK,CAACC,aAAa,CAACL,KAAK,EAAE;UAAEM,MAAM,EAAE;QAAE,CAAC,CAAC;;QAE/D;QACA,MAAMC,SAAS,GAAGJ,QAAQ,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC3D,GAAG,CAAE4D,GAAG,KAAM;UAChDC,KAAK,EAAED,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE;UACnBE,QAAQ,EAAEF,GAAG,CAAC,CAAC,CAAC,GAAGA,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;UAC7BG,IAAI,EAAE;QACR,CAAC,CAAC,CAAC;QACHzF,aAAa,CAACoF,SAAS,CAAC;QAExB,MAAMM,QAAQ,GAAGN,SAAS,CAACO,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACL,QAAQ,EAAE,CAAC,CAAC;QACxEzE,aAAa,CAAC,cAAc,EAAE;UAC5BuD,QAAQ,EAAErE,IAAI,CAAC2D,IAAI;UACnBkC,kBAAkB,EAAEJ;QACtB,CAAC,CAAC;MACJ;IACF,CAAC;IAED1B,MAAM,CAAC+B,iBAAiB,CAAC9F,IAAI,CAAC;EAChC,CAAC;EAED,MAAM+F,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIjG,UAAU,CAACiC,MAAM,KAAK,CAAC,EAAE;IAE7B,MAAMiE,WAAW,GAAIC,KAAK,IAAK;MAC7B,MAAMC,OAAO,GAAG,CAAC,GAAGD,KAAK,CAAC;MAC1BnG,UAAU,CAACmC,OAAO,CAAEkE,GAAG,IAAK;QAC1B,MAAMC,QAAQ,GAAGF,OAAO,CAACG,SAAS,CAC/BC,CAAC,IAAKA,CAAC,CAAChB,KAAK,KAAKa,GAAG,CAACb,KAAK,IAAIgB,CAAC,CAACd,IAAI,KAAKW,GAAG,CAACX,IACjD,CAAC;QACD,IAAIY,QAAQ,IAAI,CAAC,EAAE;UACjBF,OAAO,CAACE,QAAQ,CAAC,CAACb,QAAQ,IAAIY,GAAG,CAACZ,QAAQ;QAC5C,CAAC,MAAM;UACLW,OAAO,CAACK,IAAI,CAACJ,GAAG,CAAC;QACnB;MACF,CAAC,CAAC;MACF,OAAOD,OAAO;IAChB,CAAC;IAED,IAAI1G,YAAY,KAAK,cAAc,EAAE;MACnCG,mBAAmB,CAAEsB,IAAI,IAAK+E,WAAW,CAAC/E,IAAI,CAAC,CAAC;IAClD,CAAC,MAAM;MACLpB,eAAe,CAAEoB,IAAI,IAAK+E,WAAW,CAAC/E,IAAI,CAAC,CAAC;IAC9C;IACAlB,aAAa,CAAC,EAAE,CAAC;EACnB,CAAC;;EAED;EACA,MAAMyG,YAAY,GAAGA,CAAA,KAAM;IACzB;IACA,IAAI1G,UAAU,CAACiC,MAAM,KAAK,CAAC,EAAE;MAC3BC,KAAK,CAAC,2CAA2C,CAAC;MAClD;IACF;IACA,IAAIkE,OAAO,GACT1G,YAAY,KAAK,cAAc,GAC3B,CAAC,GAAGE,gBAAgB,CAAC,GACrB,CAAC,GAAGE,YAAY,CAAC;IACvB,IAAI6G,OAAO,GAAG,IAAI;IAElB3G,UAAU,CAACmC,OAAO,CAAEyE,OAAO,IAAK;MAC9B,MAAM/E,GAAG,GAAGuE,OAAO,CAACG,SAAS,CAC1BC,CAAC,IAAKA,CAAC,CAAChB,KAAK,KAAKoB,OAAO,CAACpB,KAAK,IAAIgB,CAAC,CAACd,IAAI,KAAKkB,OAAO,CAAClB,IACzD,CAAC;MACD,IAAI7D,GAAG,IAAI,CAAC,EAAE;QACZ,IAAIuE,OAAO,CAACvE,GAAG,CAAC,CAAC4D,QAAQ,IAAImB,OAAO,CAACnB,QAAQ,EAAE;UAC7CW,OAAO,CAACvE,GAAG,CAAC,CAAC4D,QAAQ,IAAImB,OAAO,CAACnB,QAAQ;QAC3C,CAAC,MAAM;UACLkB,OAAO,GAAG,KAAK;UACfzE,KAAK,CACH,wBAAwB0E,OAAO,CAACpB,KAAK,KAAKoB,OAAO,CAAClB,IAAI,WACpDkB,OAAO,CAACnB,QAAQ,UACRW,OAAO,CAACvE,GAAG,CAAC,CAAC4D,QAAQ,EACjC,CAAC;QACH;MACF,CAAC,MAAM;QACLkB,OAAO,GAAG,KAAK;QACfzE,KAAK,CAAC,+BAA+B0E,OAAO,CAACpB,KAAK,KAAKoB,OAAO,CAAClB,IAAI,GAAG,CAAC;MACzE;IACF,CAAC,CAAC;IAEF,IAAIiB,OAAO,EAAE;MACX,IAAIjH,YAAY,KAAK,cAAc,EAAE;QACnCG,mBAAmB,CAACuG,OAAO,CAAC;MAC9B,CAAC,MAAM;QACLrG,eAAe,CAACqG,OAAO,CAAC;MAC1B;MACAlE,KAAK,CAAC,kBAAkB,CAAC;MACzBlB,aAAa,CAAC,QAAQ,EAAEhB,UAAU,CAAC;IACrC;EACF,CAAC;;EAED;EACA,MAAM6G,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAMV,KAAK,GACTzG,YAAY,KAAK,cAAc,GAAGE,gBAAgB,GAAGE,YAAY;IACnE,OAAOqG,KAAK,CAACpE,MAAM,CAAE+D,IAAI,IAAK;MAC5B,MAAMgB,UAAU,GAAGhB,IAAI,CAACN,KAAK,CAC1BxB,WAAW,CAAC,CAAC,CACb+C,QAAQ,CAAC3G,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC;MACtC,MAAMgD,SAAS,GAAG1G,YAAY,GAAGwF,IAAI,CAACJ,IAAI,KAAKpF,YAAY,GAAG,IAAI;MAClE,MAAM2G,YAAY,GAAG,CAACzG,eAAe,IAAIsF,IAAI,CAACL,QAAQ,GAAG,CAAC;MAC1D,OAAOqB,UAAU,IAAIE,SAAS,IAAIC,YAAY;IAChD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAGL,eAAe,CAAC,CAAC,CAACjB,MAAM,CAAC,CAACC,GAAG,EAAEnE,CAAC,KAAKmE,GAAG,GAAGnE,CAAC,CAAC+D,QAAQ,EAAE,CAAC,CAAC;;EAE9E;EACA,MAAM0B,aAAa,GAAGA,CAAA,KAAMxG,aAAa,CAAC,IAAI,CAAC;EAC/C,MAAMyG,eAAe,GAAGA,CAAA,KAAMzG,aAAa,CAAC,KAAK,CAAC;EAElD,MAAM0G,iBAAiB,GAAGA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,KAAK;IACjD,MAAMC,IAAI,GAAG/H,YAAY,KAAK,cAAc;IAC5C,MAAMyG,KAAK,GAAGsB,IAAI,GAAG,CAAC,GAAG7H,gBAAgB,CAAC,GAAG,CAAC,GAAGE,YAAY,CAAC;IAC9DqG,KAAK,CAACmB,KAAK,CAAC,CAACC,KAAK,CAAC,GAAGC,KAAK;IAC3B,IAAIC,IAAI,EAAE;MACR5H,mBAAmB,CAACsG,KAAK,CAAC;IAC5B,CAAC,MAAM;MACLpG,eAAe,CAACoG,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAMuB,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMC,OAAO,GAAG;MAAEnC,KAAK,EAAE,EAAE;MAAEC,QAAQ,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAG,CAAC;IACpD,IAAIhG,YAAY,KAAK,cAAc,EAAE;MACnCG,mBAAmB,CAAEsB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEwG,OAAO,CAAC,CAAC;IACnD,CAAC,MAAM;MACL5H,eAAe,CAAEoB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEwG,OAAO,CAAC,CAAC;IAC/C;IACA3G,aAAa,CAAC,cAAc,EAAE2G,OAAO,CAAC;EACxC,CAAC;EAED,MAAMC,UAAU,GAAIN,KAAK,IAAK;IAC5B,MAAMO,aAAa,GAAGC,MAAM,CAACC,OAAO,CAAC,mBAAmB,CAAC;IACzD,IAAI,CAACF,aAAa,EAAE;IACpB,MAAMJ,IAAI,GAAG/H,YAAY,KAAK,cAAc;IAC5C,MAAMyG,KAAK,GAAGsB,IAAI,GAAG,CAAC,GAAG7H,gBAAgB,CAAC,GAAG,CAAC,GAAGE,YAAY,CAAC;IAC9D,MAAMkI,OAAO,GAAG7B,KAAK,CAACmB,KAAK,CAAC;IAC5BnB,KAAK,CAAC8B,MAAM,CAACX,KAAK,EAAE,CAAC,CAAC;IACtB,IAAIG,IAAI,EAAE5H,mBAAmB,CAACsG,KAAK,CAAC,CAAC,KAChCpG,eAAe,CAACoG,KAAK,CAAC;IAC3BnF,aAAa,CAAC,aAAa,EAAEgH,OAAO,CAAC;EACvC,CAAC;;EAED;EACA,IAAIlH,WAAW,KAAK,SAAS,EAAE;IAC7B;IACA,oBACEvB,OAAA;MAAA2I,QAAA,gBACE3I,OAAA;QAAK4I,SAAS,EAAC,SAAS;QAAAD,QAAA,eACtB3I,OAAA;UAAA2I,QAAA,EAAI;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC,eACNhJ,OAAA;QAAQiJ,OAAO,EAAEA,CAAA,KAAMzH,cAAc,CAAC,OAAO,CAAE;QAAAmH,QAAA,EAAC;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACtEhJ,OAAA,CAACF,YAAY;QAACuB,OAAO,EAAEA,OAAQ;QAAC6H,cAAc,EAAEhH;MAAuB;QAAA2G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC1EhJ,OAAA;QAAQiJ,OAAO,EAAE1G,+BAAgC;QAAAoG,QAAA,EAAC;MAElD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAEV;;EAEA;EACA,MAAMG,cAAc,GAAG7B,eAAe,CAAC,CAAC;EAExC,oBACEtH,OAAA;IAAA2I,QAAA,gBACE3I,OAAA;MAAK4I,SAAS,EAAC,SAAS;MAAAD,QAAA,eACtB3I,OAAA;QAAA2I,QAAA,EAAI;MAAmB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAGNhJ,OAAA;MAAK4I,SAAS,EAAC,SAAS;MAAAD,QAAA,gBACtB3I,OAAA;QAAQiJ,OAAO,EAAEA,CAAA,KAAM7I,eAAe,CAAC,cAAc,CAAE;QAAAuI,QAAA,EAAC;MAExD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACThJ,OAAA;QAAQiJ,OAAO,EAAEA,CAAA,KAAM7I,eAAe,CAAC,SAAS,CAAE;QAAAuI,QAAA,EAAC;MAAO;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChE,CAAC,eAGNhJ,OAAA;MAAK4I,SAAS,EAAC,cAAc;MAAAD,QAAA,gBAE3B3I,OAAA;QAAA2I,QAAA,GACGxH,UAAU,gBACTnB,OAAA;UAAQiJ,OAAO,EAAEpB,eAAgB;UAAAc,QAAA,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,gBAEzDhJ,OAAA;UAAQiJ,OAAO,EAAErB,aAAc;UAAAe,QAAA,EAAC;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACnD,eACDhJ,OAAA;UAAQiJ,OAAO,EAAEA,CAAA,KAAMzH,cAAc,CAAC,SAAS,CAAE;UAAAmH,QAAA,EAAC;QAAO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAElEhJ,OAAA;UAAOkD,IAAI,EAAC,MAAM;UAACkG,MAAM,EAAC,iBAAiB;UAACC,QAAQ,EAAErF;QAAiB;UAAA6E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC1EhJ,OAAA;UAAQiJ,OAAO,EAAE7E,YAAa;UAAAuE,QAAA,EAAC;QAAY;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACpDhJ,OAAA;UAAQiJ,OAAO,EAAEvC,aAAc;UAAAiC,QAAA,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACvDhJ,OAAA;UAAQiJ,OAAO,EAAE9B,YAAa;UAAAwB,QAAA,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC,eAGNhJ,OAAA;QAAKsJ,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAO,CAAE;QAAAZ,QAAA,gBAChC3I,OAAA;UACEkD,IAAI,EAAC,MAAM;UACX+E,KAAK,EAAEpH,WAAY;UACnBwI,QAAQ,EAAGpF,CAAC,IAAKnD,cAAc,CAACmD,CAAC,CAACC,MAAM,CAAC+D,KAAK,CAAE;UAChDuB,WAAW,EAAC;QAAiB;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC,eACFhJ,OAAA;UACEiI,KAAK,EAAElH,YAAa;UACpBsI,QAAQ,EAAGpF,CAAC,IAAKjD,eAAe,CAACiD,CAAC,CAACC,MAAM,CAAC+D,KAAK,CAAE;UAAAU,QAAA,gBAEjD3I,OAAA;YAAQiI,KAAK,EAAC,EAAE;YAAAU,QAAA,EAAC;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACnChJ,OAAA;YAAQiI,KAAK,EAAC,WAAW;YAAAU,QAAA,EAAC;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC5ChJ,OAAA;YAAQiI,KAAK,EAAC,SAAS;YAAAU,QAAA,EAAC;UAAO;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxChJ,OAAA;YAAQiI,KAAK,EAAC,SAAS;YAAAU,QAAA,EAAC;UAAO;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxChJ,OAAA;YAAQiI,KAAK,EAAC,SAAS;YAAAU,QAAA,EAAC;UAAO;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxChJ,OAAA;YAAQiI,KAAK,EAAC,KAAK;YAAAU,QAAA,EAAC;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAChChJ,OAAA;YAAQiI,KAAK,EAAC,KAAK;YAAAU,QAAA,EAAC;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAChChJ,OAAA;YAAQiI,KAAK,EAAC,KAAK;YAAAU,QAAA,EAAC;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAChChJ,OAAA;YAAQiI,KAAK,EAAC,MAAM;YAAAU,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC,eACThJ,OAAA;UAAOsJ,KAAK,EAAE;YAAEG,UAAU,EAAE;UAAO,CAAE;UAAAd,QAAA,gBACnC3I,OAAA;YACEkD,IAAI,EAAC,UAAU;YACfwG,OAAO,EAAEzI,eAAgB;YACzBoI,QAAQ,EAAGpF,CAAC,IAAK/C,kBAAkB,CAAC+C,CAAC,CAACC,MAAM,CAACwF,OAAO;UAAE;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvD,CAAC,iBAEJ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRhJ,OAAA;UAAKsJ,KAAK,EAAE;YAAEC,SAAS,EAAE;UAAS,CAAE;UAAAZ,QAAA,eAClC3I,OAAA;YAAA2I,QAAA,GAAQ,iBAAe,EAAChB,YAAY;UAAA;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNhJ,OAAA;QAAIsJ,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAO,CAAE;QAAAZ,QAAA,GAAC,iBACjB,EAACxI,YAAY,EAAC,GAC/B;MAAA;QAAA0I,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACLhJ,OAAA,CAACJ,UAAU;QACT+J,UAAU,EAAER,cAAe;QAC3BhI,UAAU,EAAEA,UAAW;QACvByI,YAAY,EAAE9B,iBAAkB;QAChC+B,YAAY,EAAExB;MAAW;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC,EACD7H,UAAU,iBACTnB,OAAA;QAAQiJ,OAAO,EAAEd,UAAW;QAACmB,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAO,CAAE;QAAAZ,QAAA,EAAC;MAE3D;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT,eAGDhJ,OAAA,CAACH,aAAa;QAACY,UAAU,EAAEA;MAAW;QAAAoI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC9I,EAAA,CAnWQD,GAAG;AAAA6J,EAAA,GAAH7J,GAAG;AAqWZ,eAAeA,GAAG;AAAC,IAAA6J,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}