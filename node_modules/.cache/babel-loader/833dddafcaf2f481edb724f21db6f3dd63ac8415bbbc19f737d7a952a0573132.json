{"ast":null,"code":"const WORLD_FAMOUS_HISTORY_KEY='worldFamousHistory';const ETERNAL_HISTORY_KEY='eternalHistory';export const addToHistory=function(type,action,items){let timestamp=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new Date().toISOString();const key=type==='worldFamous'?WORLD_FAMOUS_HISTORY_KEY:ETERNAL_HISTORY_KEY;const history=getHistory(type);const entry={action,items,timestamp};history.unshift(entry);// Add to beginning of array\n// Keep only last 100 entries to prevent localStorage from getting too full\nif(history.length>100){history.pop();}localStorage.setItem(key,JSON.stringify(history));return history;};export const getHistory=type=>{const key=type==='worldFamous'?WORLD_FAMOUS_HISTORY_KEY:ETERNAL_HISTORY_KEY;try{const history=localStorage.getItem(key);return history?JSON.parse(history):[];}catch(error){console.error('Error reading history:',error);return[];}};export const clearHistory=type=>{const key=type==='worldFamous'?WORLD_FAMOUS_HISTORY_KEY:ETERNAL_HISTORY_KEY;localStorage.setItem(key,JSON.stringify([]));};","map":{"version":3,"names":["WORLD_FAMOUS_HISTORY_KEY","ETERNAL_HISTORY_KEY","addToHistory","type","action","items","timestamp","arguments","length","undefined","Date","toISOString","key","history","getHistory","entry","unshift","pop","localStorage","setItem","JSON","stringify","getItem","parse","error","console","clearHistory"],"sources":["C:/Users/hongjie/Desktop/Warehouse Test/src/services/historyService.js"],"sourcesContent":["const WORLD_FAMOUS_HISTORY_KEY = 'worldFamousHistory';\r\nconst ETERNAL_HISTORY_KEY = 'eternalHistory';\r\n\r\nexport const addToHistory = (type, action, items, timestamp = new Date().toISOString()) => {\r\n  const key = type === 'worldFamous' ? WORLD_FAMOUS_HISTORY_KEY : ETERNAL_HISTORY_KEY;\r\n  const history = getHistory(type);\r\n  \r\n  const entry = {\r\n    action,\r\n    items,\r\n    timestamp,\r\n  };\r\n\r\n  history.unshift(entry); // Add to beginning of array\r\n  \r\n  // Keep only last 100 entries to prevent localStorage from getting too full\r\n  if (history.length > 100) {\r\n    history.pop();\r\n  }\r\n\r\n  localStorage.setItem(key, JSON.stringify(history));\r\n  return history;\r\n};\r\n\r\nexport const getHistory = (type) => {\r\n  const key = type === 'worldFamous' ? WORLD_FAMOUS_HISTORY_KEY : ETERNAL_HISTORY_KEY;\r\n  try {\r\n    const history = localStorage.getItem(key);\r\n    return history ? JSON.parse(history) : [];\r\n  } catch (error) {\r\n    console.error('Error reading history:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const clearHistory = (type) => {\r\n  const key = type === 'worldFamous' ? WORLD_FAMOUS_HISTORY_KEY : ETERNAL_HISTORY_KEY;\r\n  localStorage.setItem(key, JSON.stringify([]));\r\n}; "],"mappings":"AAAA,KAAM,CAAAA,wBAAwB,CAAG,oBAAoB,CACrD,KAAM,CAAAC,mBAAmB,CAAG,gBAAgB,CAE5C,MAAO,MAAM,CAAAC,YAAY,CAAG,QAAAA,CAACC,IAAI,CAAEC,MAAM,CAAEC,KAAK,CAA2C,IAAzC,CAAAC,SAAS,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAI,CAAAG,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACpF,KAAM,CAAAC,GAAG,CAAGT,IAAI,GAAK,aAAa,CAAGH,wBAAwB,CAAGC,mBAAmB,CACnF,KAAM,CAAAY,OAAO,CAAGC,UAAU,CAACX,IAAI,CAAC,CAEhC,KAAM,CAAAY,KAAK,CAAG,CACZX,MAAM,CACNC,KAAK,CACLC,SACF,CAAC,CAEDO,OAAO,CAACG,OAAO,CAACD,KAAK,CAAC,CAAE;AAExB;AACA,GAAIF,OAAO,CAACL,MAAM,CAAG,GAAG,CAAE,CACxBK,OAAO,CAACI,GAAG,CAAC,CAAC,CACf,CAEAC,YAAY,CAACC,OAAO,CAACP,GAAG,CAAEQ,IAAI,CAACC,SAAS,CAACR,OAAO,CAAC,CAAC,CAClD,MAAO,CAAAA,OAAO,CAChB,CAAC,CAED,MAAO,MAAM,CAAAC,UAAU,CAAIX,IAAI,EAAK,CAClC,KAAM,CAAAS,GAAG,CAAGT,IAAI,GAAK,aAAa,CAAGH,wBAAwB,CAAGC,mBAAmB,CACnF,GAAI,CACF,KAAM,CAAAY,OAAO,CAAGK,YAAY,CAACI,OAAO,CAACV,GAAG,CAAC,CACzC,MAAO,CAAAC,OAAO,CAAGO,IAAI,CAACG,KAAK,CAACV,OAAO,CAAC,CAAG,EAAE,CAC3C,CAAE,MAAOW,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C,MAAO,EAAE,CACX,CACF,CAAC,CAED,MAAO,MAAM,CAAAE,YAAY,CAAIvB,IAAI,EAAK,CACpC,KAAM,CAAAS,GAAG,CAAGT,IAAI,GAAK,aAAa,CAAGH,wBAAwB,CAAGC,mBAAmB,CACnFiB,YAAY,CAACC,OAAO,CAACP,GAAG,CAAEQ,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC,CAAC,CAC/C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}