{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Dialog,DialogTitle,DialogContent,DialogActions,Button,TextField,Grid,Alert,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditItemDialog=_ref=>{let{open,onClose,item,onSave}=_ref;const[editedItem,setEditedItem]=useState({itemCode:'',color:'',size:'',quantity:0});const[errors,setErrors]=useState({});useEffect(()=>{if(item){setEditedItem({itemCode:item.itemCode||'',color:item.color||'',size:item.size||'',quantity:item.quantity||0});setErrors({});}},[item]);const validateItem=()=>{var _editedItem$itemCode,_editedItem$color,_editedItem$size;const newErrors={};if(!((_editedItem$itemCode=editedItem.itemCode)!==null&&_editedItem$itemCode!==void 0&&_editedItem$itemCode.trim())){newErrors.itemCode='Item Code is required';}if(!((_editedItem$color=editedItem.color)!==null&&_editedItem$color!==void 0&&_editedItem$color.trim())){newErrors.color='Color is required';}if(!((_editedItem$size=editedItem.size)!==null&&_editedItem$size!==void 0&&_editedItem$size.trim())){newErrors.size='Size is required';}if(editedItem.quantity<0){newErrors.quantity='Quantity must be a positive number';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleChange=field=>event=>{const value=field==='quantity'?Math.max(0,parseInt(event.target.value)||0):event.target.value;setEditedItem(prev=>({...prev,[field]:value}));// Clear error when user starts typing\nif(errors[field]){setErrors(prev=>({...prev,[field]:undefined}));}};const handleSave=()=>{if(validateItem()){onSave(editedItem);onClose();}};if(!open)return null;return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:onClose,maxWidth:\"sm\",fullWidth:true,\"aria-labelledby\":\"edit-dialog-title\",\"aria-describedby\":\"edit-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"edit-dialog-title\",children:\"Edit Item\"}),/*#__PURE__*/_jsx(DialogContent,{id:\"edit-dialog-description\",children:/*#__PURE__*/_jsxs(Box,{sx:{mt:1},children:[Object.keys(errors).length>0&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:\"Please fix the errors before saving\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Item Code\",value:editedItem.itemCode,onChange:handleChange('itemCode'),error:!!errors.itemCode,helperText:errors.itemCode,required:true,autoFocus:true,inputProps:{'aria-label':'Item Code'}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Color\",value:editedItem.color,onChange:handleChange('color'),error:!!errors.color,helperText:errors.color,required:true,inputProps:{'aria-label':'Color'}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Size\",value:editedItem.size,onChange:handleChange('size'),error:!!errors.size,helperText:errors.size,required:true,inputProps:{'aria-label':'Size'}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"number\",label:\"Quantity\",value:editedItem.quantity,onChange:handleChange('quantity'),error:!!errors.quantity,helperText:errors.quantity,inputProps:{min:0,'aria-label':'Quantity'},required:true})})]})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,\"aria-label\":\"Cancel\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSave,variant:\"contained\",color:\"primary\",disabled:Object.keys(errors).length>0,\"aria-label\":\"Save Changes\",children:\"Save Changes\"})]})]});};export default EditItemDialog;","map":{"version":3,"names":["React","useState","useEffect","Dialog","DialogTitle","DialogContent","DialogActions","Button","TextField","Grid","Alert","Box","jsx","_jsx","jsxs","_jsxs","EditItemDialog","_ref","open","onClose","item","onSave","editedItem","setEditedItem","itemCode","color","size","quantity","errors","setErrors","validateItem","_editedItem$itemCode","_editedItem$color","_editedItem$size","newErrors","trim","Object","keys","length","handleChange","field","event","value","Math","max","parseInt","target","prev","undefined","handleSave","maxWidth","fullWidth","children","id","sx","mt","severity","mb","container","spacing","xs","label","onChange","error","helperText","required","autoFocus","inputProps","md","type","min","onClick","variant","disabled"],"sources":["C:/Users/hongjie/Desktop/Warehouse Test/src/components/EditItemDialog.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  TextField,\r\n  Grid,\r\n  Alert,\r\n  Box,\r\n} from '@mui/material';\r\n\r\nconst EditItemDialog = ({ open, onClose, item, onSave }) => {\r\n  const [editedItem, setEditedItem] = useState({\r\n    itemCode: '',\r\n    color: '',\r\n    size: '',\r\n    quantity: 0\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (item) {\r\n      setEditedItem({\r\n        itemCode: item.itemCode || '',\r\n        color: item.color || '',\r\n        size: item.size || '',\r\n        quantity: item.quantity || 0\r\n      });\r\n      setErrors({});\r\n    }\r\n  }, [item]);\r\n\r\n  const validateItem = () => {\r\n    const newErrors = {};\r\n    \r\n    if (!editedItem.itemCode?.trim()) {\r\n      newErrors.itemCode = 'Item Code is required';\r\n    }\r\n    \r\n    if (!editedItem.color?.trim()) {\r\n      newErrors.color = 'Color is required';\r\n    }\r\n    \r\n    if (!editedItem.size?.trim()) {\r\n      newErrors.size = 'Size is required';\r\n    }\r\n    \r\n    if (editedItem.quantity < 0) {\r\n      newErrors.quantity = 'Quantity must be a positive number';\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleChange = (field) => (event) => {\r\n    const value = field === 'quantity' \r\n      ? Math.max(0, parseInt(event.target.value) || 0)\r\n      : event.target.value;\r\n    \r\n    setEditedItem(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors[field]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [field]: undefined\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (validateItem()) {\r\n      onSave(editedItem);\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <Dialog \r\n      open={open} \r\n      onClose={onClose} \r\n      maxWidth=\"sm\" \r\n      fullWidth\r\n      aria-labelledby=\"edit-dialog-title\"\r\n      aria-describedby=\"edit-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"edit-dialog-title\">Edit Item</DialogTitle>\r\n      <DialogContent id=\"edit-dialog-description\">\r\n        <Box sx={{ mt: 1 }}>\r\n          {Object.keys(errors).length > 0 && (\r\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n              Please fix the errors before saving\r\n            </Alert>\r\n          )}\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Item Code\"\r\n                value={editedItem.itemCode}\r\n                onChange={handleChange('itemCode')}\r\n                error={!!errors.itemCode}\r\n                helperText={errors.itemCode}\r\n                required\r\n                autoFocus\r\n                inputProps={{\r\n                  'aria-label': 'Item Code'\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Color\"\r\n                value={editedItem.color}\r\n                onChange={handleChange('color')}\r\n                error={!!errors.color}\r\n                helperText={errors.color}\r\n                required\r\n                inputProps={{\r\n                  'aria-label': 'Color'\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Size\"\r\n                value={editedItem.size}\r\n                onChange={handleChange('size')}\r\n                error={!!errors.size}\r\n                helperText={errors.size}\r\n                required\r\n                inputProps={{\r\n                  'aria-label': 'Size'\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                type=\"number\"\r\n                label=\"Quantity\"\r\n                value={editedItem.quantity}\r\n                onChange={handleChange('quantity')}\r\n                error={!!errors.quantity}\r\n                helperText={errors.quantity}\r\n                inputProps={{ \r\n                  min: 0,\r\n                  'aria-label': 'Quantity'\r\n                }}\r\n                required\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} aria-label=\"Cancel\">\r\n          Cancel\r\n        </Button>\r\n        <Button \r\n          onClick={handleSave} \r\n          variant=\"contained\" \r\n          color=\"primary\"\r\n          disabled={Object.keys(errors).length > 0}\r\n          aria-label=\"Save Changes\"\r\n        >\r\n          Save Changes\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default EditItemDialog; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}