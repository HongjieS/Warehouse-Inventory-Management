{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hongjie\\\\Desktop\\\\Warehouse Test\\\\src\\\\components\\\\HistoryView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Paper, Typography, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Chip, Box, Button } from '@mui/material';\nimport { getHistory, clearHistory } from '../services/historyService';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HistoryView = ({\n  type\n}) => {\n  _s();\n  const [history, setHistory] = useState([]);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  useEffect(() => {\n    loadHistory();\n  }, [type]);\n  const loadHistory = () => {\n    const historyData = getHistory(type);\n    setHistory(historyData);\n  };\n  const handleClearHistory = () => {\n    clearHistory(type);\n    loadHistory();\n  };\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  const getActionColor = action => {\n    switch (action) {\n      case 'IMPORT':\n        return 'success';\n      case 'EDIT':\n        return 'primary';\n      case 'DELETE':\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: \"History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"error\",\n        onClick: handleClearHistory,\n        children: \"Clear History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: history.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((entry, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: format(new Date(entry.timestamp), 'MMM d, yyyy HH:mm:ss')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: entry.action,\n                color: getActionColor(entry.action),\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: Array.isArray(entry.items) ? `${entry.items.length} items affected` : 'Single item modified'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n      rowsPerPageOptions: [10, 25, 50],\n      component: \"div\",\n      count: history.length,\n      rowsPerPage: rowsPerPage,\n      page: page,\n      onPageChange: handleChangePage,\n      onRowsPerPageChange: handleChangeRowsPerPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(HistoryView, \"SGeWT8M+khTUlQMzsVBFctjEMr4=\");\n_c = HistoryView;\nexport default HistoryView;\nvar _c;\n$RefreshReg$(_c, \"HistoryView\");","map":{"version":3,"names":["React","useState","useEffect","Paper","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Chip","Box","Button","getHistory","clearHistory","format","jsxDEV","_jsxDEV","HistoryView","type","_s","history","setHistory","page","setPage","rowsPerPage","setRowsPerPage","loadHistory","historyData","handleClearHistory","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","getActionColor","action","elevation","sx","p","children","display","justifyContent","alignItems","mb","variant","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","slice","map","entry","index","hover","Date","timestamp","label","size","Array","isArray","items","length","rowsPerPageOptions","component","count","onPageChange","onRowsPerPageChange","_c","$RefreshReg$"],"sources":["C:/Users/hongjie/Desktop/Warehouse Test/src/components/HistoryView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TablePagination,\r\n  Chip,\r\n  Box,\r\n  Button,\r\n} from '@mui/material';\r\nimport { getHistory, clearHistory } from '../services/historyService';\r\nimport { format } from 'date-fns';\r\n\r\nconst HistoryView = ({ type }) => {\r\n  const [history, setHistory] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  useEffect(() => {\r\n    loadHistory();\r\n  }, [type]);\r\n\r\n  const loadHistory = () => {\r\n    const historyData = getHistory(type);\r\n    setHistory(historyData);\r\n  };\r\n\r\n  const handleClearHistory = () => {\r\n    clearHistory(type);\r\n    loadHistory();\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const getActionColor = (action) => {\r\n    switch (action) {\r\n      case 'IMPORT':\r\n        return 'success';\r\n      case 'EDIT':\r\n        return 'primary';\r\n      case 'DELETE':\r\n        return 'error';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper elevation={3} sx={{ p: 3 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h6\">History</Typography>\r\n        <Button variant=\"outlined\" color=\"error\" onClick={handleClearHistory}>\r\n          Clear History\r\n        </Button>\r\n      </Box>\r\n      \r\n      <TableContainer>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Date</TableCell>\r\n              <TableCell>Action</TableCell>\r\n              <TableCell>Details</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {history\r\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              .map((entry, index) => (\r\n                <TableRow key={index} hover>\r\n                  <TableCell>\r\n                    {format(new Date(entry.timestamp), 'MMM d, yyyy HH:mm:ss')}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Chip\r\n                      label={entry.action}\r\n                      color={getActionColor(entry.action)}\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {Array.isArray(entry.items) ? (\r\n                      `${entry.items.length} items affected`\r\n                    ) : (\r\n                      'Single item modified'\r\n                    )}\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      \r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 50]}\r\n        component=\"div\"\r\n        count={history.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onPageChange={handleChangePage}\r\n        onRowsPerPageChange={handleChangeRowsPerPage}\r\n      />\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default HistoryView; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}